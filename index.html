<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create CKB Plots • ckbplotr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Create CKB Plots">
<meta property="og:description" content="ckbplotr provides functions to help create and style plots in R.
    It is being developed by, and primarily for, China Kadoorie Biobank 
    researchers.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ckbplotr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/ggplot2.html">ggplot2</a>
    </li>
    <li>
      <a href="articles/make_forest_plot.html">Making forest plots</a>
    </li>
    <li>
      <a href="articles/make_shape_plot.html">Making shape plots</a>
    </li>
    <li>
      <a href="articles/plot_like_ckb.html">Make a ggplot like a CKB plot</a>
    </li>
    <li>
      <a href="articles/special_characters_formatting.html">Using special characters and formatting</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/neilstats/ckbplotr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="ckbplotr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ckbplotr" class="anchor"></a>ckbplotr</h1></div>
<p><code>ckbplotr</code> provides functions to help create and style plots in R. It is being developed by, and primarily for, <a href="http://www.ckbiobank.org">China Kadoorie Biobank</a> researchers.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div id="directly-from-github" class="section level3">
<h3 class="hasAnchor">
<a href="#directly-from-github" class="anchor"></a>Directly from github</h3>
<p>The latest version of <code>ckbplotr</code> can be installed directly from github using the <code>remotes</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">'remotes'</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">'neilstats/ckbplotr'</span><span class="op">)</span></pre></div>
</div>
<div id="or-from-source-package" class="section level3">
<h3 class="hasAnchor">
<a href="#or-from-source-package" class="anchor"></a>Or from source package</h3>
<p><code>ckbplotr</code> can also be installed from its source package. The R packages <code>ggplot2</code>, <code>magrittr</code>, <code>readr</code>, <code>tibble</code>, <code>dplyr</code>, <code>purrr</code> and <code>rlang</code> must first be installed. These are part of the collection of tidyverse packages.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># The easiest way is to install the whole tidyverse:</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span>

<span class="co"># # Or install just these packages:</span>
<span class="co"># install.packages(c("ggplot2", "readr", "dplyr", "purrr"))</span></pre></div>
<p>Then <code>ckbplotr</code> can be installed from its source package using the code:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"ckbplotr.tar.gz"</span>, repos <span class="op">=</span> <span class="cn">NULL</span>, type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></pre></div>
<p>Or, in RStudio, open the “Tools” menu and select “Install Packages…”. In the “Install from…” box select “Package Archive File”, and in the “Package archive” box browse to the ckbplotr.tar.gz file.</p>
<p>The source package for the latest release version is available <a href="https://github.com/neilstats/ckbplotr/releases/latest">here</a>.</p>
</div>
</div>
<div id="the-plot_like_ckb-function" class="section level2">
<h2 class="hasAnchor">
<a href="#the-plot_like_ckb-function" class="anchor"></a>The plot_like_ckb function</h2>
<p>The <code>plot_like_ckb</code> function does three things to a ggplot2 plot:</p>
<ol>
<li>applies a CKB theme (i.e. change the overall appearance)</li>
<li>extends the plotting area and manually adds axis lines (so that you can have a custom sized gap between the plotting area and the axes)</li>
<li>applies a fixed aspect ratio</li>
</ol>
<p><img src="reference/figures/README-a-plot-1.png" style="display: block; margin: auto;"></p>
</div>
<div id="the-make_shape_plot-function" class="section level2">
<h2 class="hasAnchor">
<a href="#the-make_shape_plot-function" class="anchor"></a>The make_shape_plot function</h2>
<p>The <code>make_shape_plot</code> function creates a plot of estimates and CIs against risk factor levels using the <code>ggplot2</code> package.</p>
<p><img src="reference/figures/README-make_shape_plot-example-1-1.png" style="display: block; margin: auto;"></p>
</div>
<div id="the-make_forest_plot-function" class="section level2">
<h2 class="hasAnchor">
<a href="#the-make_forest_plot-function" class="anchor"></a>The make_forest_plot function</h2>
<p>The <code>make_forest_plot</code> function creates a forest plot using the <code>ggplot2</code> graphics package. The function returns a named list containing:</p>
<ul>
<li>plot: the plot</li>
<li>code: ggplot2 code to generate the plot</li>
</ul>
<p>In RStudio the ggplot2 code used to generate the plot will be shown in the ‘Viewer’ pane. If modifications are needed to the plot, then this code can be copied, edited, and run as needed.</p>
<p><img src="reference/figures/README-example-forest-plot-1.png" style="display: block; margin: auto;"></p>
<div id="expected-warning" class="section level3">
<h3 class="hasAnchor">
<a href="#expected-warning" class="anchor"></a>Expected warning</h3>
<p>You may get the following warning when using this function.</p>
<blockquote>
<p>Vectorized input to <code>element_text()</code> is not officially supported. Results may be unexpected or may change in future versions of ggplot2.</p>
</blockquote>
</div>
</div>
<div id="make_jasper_forest_plot-function" class="section level2">
<h2 class="hasAnchor">
<a href="#make_jasper_forest_plot-function" class="anchor"></a>make_jasper_forest_plot function</h2>
<p>The <code>make_jasper_forest_plot</code> function requires the in-house Jasper package, which is not publicly available.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/neilstats/ckbplotr/">https://​github.com/​neilstats/​ckbplotr/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/neilstats/ckbplotr/issues">https://​github.com/​neilstats/​ckbplotr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Neil Wright <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Neil Wright.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
